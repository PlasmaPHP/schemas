<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Plasma\Schemas\AbstractSchema | schemas</title>

            <link rel="stylesheet" type="text/css" href="../../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../../css/sami.css">
        <link rel="stylesheet" type="text/css" href="../../css/prism.css">
        <script src="../../js/jquery-1.11.1.min.js"></script>
        <script src="../../js/bootstrap.min.js"></script>
        <script src="../../js/typeahead.min.js"></script>
        <script src="../../sami.js"></script>
        <script src="../../js/prism.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:Plasma_Schemas_AbstractSchema" data-root-path="../../">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                    <form action="#" method="GET">
                <select id="version-switcher" name="version">
                                            <option value="../../../v0.1.0/index.html" data-version="v0.1.0">v0.1.0</option>
                                            <option value="../../../v0.2.0/index.html" data-version="v0.2.0">v0.2.0</option>
                                            <option value="../../../master/index.html" data-version="master">master</option>
                                    </select>
            </form>
                <script>
            $('option[data-version="'+window.projectVersion+'"]').prop('selected', true);
        </script>
        <form id="search-form" action="../../search.html" method="GET">
            <span class="glyphicon glyphicon-search"></span>
            <input name="search"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search">
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../../index.html">schemas</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../../classes.html">Classes</a></li>
                                                                <li><a href="../../namespaces.html">Namespaces</a></li>
                                        <li><a href="../../interfaces.html">Interfaces</a></li>
                    <li><a href="../../traits.html">Traits</a></li>
                    <li><a href="../../doc-index.html">Index</a></li>
                    <li><a href="../../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../../Plasma.html">Plasma</a></li><li class="backslash">\</li><li><a href="../../Plasma/Schemas.html">Schemas</a></li><li class="backslash">\</li><li>AbstractSchema</li>
            </ol>
        </div>
                <div id="page-content">
                
    <div class="page-header">
        <h1>
            AbstractSchema
                
        </h1>
    </div>

    <p>abstract     class
    <strong>AbstractSchema</strong>        implements
        <a href="../../Plasma/Schemas/SchemaInterface.html"><abbr title="Plasma\Schemas\SchemaInterface">SchemaInterface</abbr></a>        (<a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php" target="_blank">View source</a>)
</p>

        
    

            <div class="description">
            <p>This is a schema class which maps each rows column to a camelcase property.</p>            <p>This class must be extended and the properties must be provided by the extending class (but not as private).
This allows validation and match expectations.</p>                    </div>
    
    
    
    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8 type">
                    <a href="#method___construct">__construct</a>(<a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a> $repo, array $row)
        
                                            <p>Constructor.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_afterPreloadHook">afterPreloadHook</a>(<abbr title="Plasma\QueryResultInterface">QueryResultInterface</abbr> $result, array $preloads)
        
                                            <p>This is the after preload hook, which gets called with the preloads
which were used to create the schema. The hook is responsible for
creating the other schemas from the preloads and the table result.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="../../Plasma/Schemas/SchemaInterface.html"><abbr title="Plasma\Schemas\SchemaInterface">SchemaInterface</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_build">build</a>(<a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a> $repository, array $row)
        
                                            <p>Builds a schema instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_delete">delete</a>()
        
                                            <p>Deletes the row. Resolves with a <code>QueryResultInterface</code> instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="../../Plasma/Schemas/ColumnDefinitionBuilder.html"><abbr title="Plasma\Schemas\ColumnDefinitionBuilder">ColumnDefinitionBuilder</abbr></a>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getColDefBuilder">getColDefBuilder</a>()
        
                                            <p>Get a new instance of a column definition builder.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="../../Plasma/Schemas/PreloadInterface.html"><abbr title="Plasma\Schemas\PreloadInterface">PreloadInterface</abbr></a>[]
                </div>
                <div class="col-md-8 type">
                    <a href="#method_getPreloads">getPreloads</a>()
        
                                            <p>Lets the directory preload the foreign references on schema request.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_insert">insert</a>()
        
                                            <p>Inserts the schema.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>|null
                </div>
                <div class="col-md-8 type">
                    <a href="#method_resolveForeignTargets">resolveForeignTargets</a>()
        
                                            <p>Resolves the outstanding foreign targets. Resolves with a new schema.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8 type">
                    <a href="#method_toArray">toArray</a>()
        
                                            <p>Returns an array with all values mapped by the column name.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
                </div>
                <div class="col-md-8 type">
                    <a href="#method_update">update</a>(array $data)
        
                                            <p>Updates the row with the new data. Resolves with a <code>QueryResultInterface</code> instance.</p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    void
                </div>
                <div class="col-md-8 type">
                    <a href="#method_validateData">validateData</a>()
        
                                            <p>Child classes can override this method to implement some sort of validation.</p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L40">line 40</a></div>
        <code>                    
    <strong>__construct</strong>(<a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a> $repo, array $row)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Constructor.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a></td>
                <td>$repo</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$row</td>
                <td></td>
            </tr>
            </table>

            
            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_afterPreloadHook">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L120">line 120</a></div>
        <code>                    void
    <strong>afterPreloadHook</strong>(<abbr title="Plasma\QueryResultInterface">QueryResultInterface</abbr> $result, array $preloads)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>This is the after preload hook, which gets called with the preloads
which were used to create the schema. The hook is responsible for
creating the other schemas from the preloads and the table result.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\QueryResultInterface">QueryResultInterface</abbr></td>
                <td>$result</td>
                <td>This is always a query result with only a single row.</td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$preloads</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td>Thrown when the foreign directory does not exist.</td>
            </tr>
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td>Thrown when the preload local key does not exist.</td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_build">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L196">line 196</a></div>
        <code>        static            <a href="../../Plasma/Schemas/SchemaInterface.html"><abbr title="Plasma\Schemas\SchemaInterface">SchemaInterface</abbr></a>
    <strong>build</strong>(<a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a> $repository, array $row)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Builds a schema instance.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a href="../../Plasma/Schemas/Repository.html"><abbr title="Plasma\Schemas\Repository">Repository</abbr></a></td>
                <td>$repository</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$row</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../Plasma/Schemas/SchemaInterface.html"><abbr title="Plasma\Schemas\SchemaInterface">SchemaInterface</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_delete">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L258">line 258</a></div>
        <code>                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
    <strong>delete</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Deletes the row. Resolves with a <code>QueryResultInterface</code> instance.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getColDefBuilder">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L293">line 293</a></div>
        <code>        static            <a href="../../Plasma/Schemas/ColumnDefinitionBuilder.html"><abbr title="Plasma\Schemas\ColumnDefinitionBuilder">ColumnDefinitionBuilder</abbr></a>
    <strong>getColDefBuilder</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Get a new instance of a column definition builder.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../Plasma/Schemas/ColumnDefinitionBuilder.html"><abbr title="Plasma\Schemas\ColumnDefinitionBuilder">ColumnDefinitionBuilder</abbr></a></td>
            <td></td>
        </tr>
    </table>

            
            
                            <h4>See also</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>
                                            \Plasma\Schemas\ColumnDefinitionBuilder::create()
                                    </td>
                <td></td>
            </tr>
            </table>

                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getPreloads">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L78">line 78</a></div>
        <code>        static            <a href="../../Plasma/Schemas/PreloadInterface.html"><abbr title="Plasma\Schemas\PreloadInterface">PreloadInterface</abbr></a>[]
    <strong>getPreloads</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Lets the directory preload the foreign references on schema request.</p>                    <p>Returns an array of <code>PreloadInterface</code>.</p>                            </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../../Plasma/Schemas/PreloadInterface.html"><abbr title="Plasma\Schemas\PreloadInterface">PreloadInterface</abbr></a>[]</td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_insert">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L205">line 205</a></div>
        <code>                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
    <strong>insert</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Inserts the schema.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_resolveForeignTargets">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L149">line 149</a></div>
        <code>                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>|null
    <strong>resolveForeignTargets</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Resolves the outstanding foreign targets. Resolves with a new schema.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>|null</td>
            <td></td>
        </tr>
    </table>

            
            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_toArray">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L275">line 275</a></div>
        <code>                    array
    <strong>toArray</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Returns an array with all values mapped by the column name.</p>                                                </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td></td>
        </tr>
    </table>

            
            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_update">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L230">line 230</a></div>
        <code>                    <abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr>
    <strong>update</strong>(array $data)
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Updates the row with the new data. Resolves with a <code>QueryResultInterface</code> instance.</p>                                                </div>
                <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$data</td>
                <td></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="React\Promise\PromiseInterface">PromiseInterface</abbr></td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><abbr title="Plasma\Exception">Exception</abbr></td>
                <td></td>
            </tr>
            </table>

            
                        
                        
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_validateData">
        <div class="location">at         <a href="https://github.com/PlasmaPHP/schemas/blob/master/src/AbstractSchema.php#L68">line 68</a></div>
        <code>                    void
    <strong>validateData</strong>()
        </code>
    </h3>
    <div class="details">
            
    

                    <div class="method-description">
                                    <p>Child classes can override this method to implement some sort of validation.</p>                    <p>This method gets invoked after assigning the properties. It has no functionality by default.</p>                            </div>
                <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
            
                        
                        
                    </div>
    </div>

            </div>
            </div>

    
            </div>
                <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a>.
    </div>

        </div>
    </div>
    </body>

</html>
